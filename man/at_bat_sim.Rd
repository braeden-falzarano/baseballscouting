% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/at_bat_sim.R
\name{at_bat_sim}
\alias{at_bat_sim}
\title{Simulate At-Bat Outcomes Between a Pitcher and a Batter}
\usage{
at_bat_sim(
  pitcher_id,
  batter_id,
  start_date,
  end_date,
  num_simulations = 1000,
  num_cores = 2
)
}
\arguments{
\item{pitcher_id}{Numeric. The ID of the pitcher (Statcast pitcher ID).}

\item{batter_id}{Numeric. The ID of the batter (Statcast batter ID).}

\item{start_date}{Character. The start date of the data retrieval period in "YYYY-MM-DD" format.}

\item{end_date}{Character. The end date of the data retrieval period in "YYYY-MM-DD" format.}

\item{num_simulations}{Numeric. The number of at-bat simulations to perform. Default is 1000.}

\item{num_cores}{Numeric. The number of CPU cores to use for parallel processing. Default is 2.}
}
\value{
A data frame summarizing the simulated probabilities of each at-bat outcome.
}
\description{
This function simulates the outcomes of at-bats between a specified pitcher and batter
based on historical data retrieved from Statcast. The function uses kernel density
estimation (KDE) to model pitch locations and adjusts probabilities based on
batter performance data.
}
\details{
The function retrieves historical data for the specified pitcher and batter from Statcast,
segments pitch locations into bins, and calculates success probabilities for the batter
by pitch location. Using KDE, pitch locations are sampled for each simulation, and outcomes
are determined based on both pitcher and batter data.

The simulation process is parallelized for efficiency, utilizing the specified number of cores.
}
\examples{
# Simulate at-bats between Gerrit Cole and Mike Trout in the 2022 season
at_bat_sim(
  pitcher_id = 543037,  # Gerrit Cole
  batter_id = 545361,   # Mike Trout
  start_date = "2022-04-01",
  end_date = "2022-10-01",
  num_simulations = 10000,
  num_cores = 2
)

}
